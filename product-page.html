<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="main.css" />
    <script src="https://kit.fontawesome.com/5aed494ed7.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="https://fonts.googleapis.com/css2?family=Rancho&display=swap" rel="stylesheet" />
    <title>Products</title>
  </head>
  <body>
    <header>
      <div class="color-bar">
        <div class="purple"></div>
        <div class="turquoise"></div>
        <div class="yellow"></div>
        <div class="pink"></div>
        <div class="red"></div>
        <div class="black"></div>
      </div>
      <nav>
        <ul>
          <li class="logo"><a href="#">Giftee</a></li>
          <li class="icons">
            <div>
              <a href="#" class="fas fa-user"></a>
              <p>sign in</p>
            </div>
            <div>
              <a href="#" class="fas fa-shopping-cart"></a>
              <p>cart</p>
            </div>
            <div>
              <a href="#" class="fas fa-heart"></a>
              <p>wishlist</p>
            </div>
            <div>
              <a href="#" class="fas fa-gift"></a>
              <p>gift finder</p>
            </div>
          </li>
        </ul>
      </nav>
    </header>
    <main id="products">
      <div id="filters">
        <div class="dropdown-age">
          <div class="age">Filter by: Age</div>

          <svg class="dropdown-age-arrow" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"></path>
          </svg>

          <form class="form-age-checkboxes">
            <label> <input type="checkbox" /> 0 – 9 </label>
            <label> <input type="checkbox" /> 10 – 19 </label>
            <label> <input type="checkbox" /> 20 – 29 </label>
            <label> <input type="checkbox" /> 30 – 39 </label>
            <label> <input type="checkbox" /> 40 – 49 </label>
            <label> <input type="checkbox" /> 50 – 59 </label>
            <label> <input type="checkbox" /> 60 +</label>
          </form>
        </div>
        <div class="range-slider">
          <div class="multi-range-slider">
            <input type="range" id="input-left" min="0" max="100" value="25" />
            <input type="range" id="input-right" min="0" max="100" value="75" />

            <div class="slider">
              <div class="track"></div>
              <div class="range"></div>
              <div class="thumb left"></div>
              <div class="thumb right"></div>
              <div class="value-left"></div>
              <div class="value-right"></div>
            </div>
          </div>
        </div>
        <div class="dropdown-sorting">
          <div class="sort">Sort by: Popular</div>
          <svg class="dropdown-sort-arrow" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"></path>
          </svg>
          <div class="sorting-selections">
            <ul>
              <li>Bestselling</li>
              <li>Price: Ascending</li>
              <li>Price: Descending</li>
              <li>Newest</li>
              <li>Popular</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="products-grid">
        <div class="product">
          <i class="fas product-wish fa-heart"></i>
          <img src="https://source.unsplash.com/random" alt="product_image" />
          <div class="product-name">Reclaimed Wood USA Wall Art</div>
          <div class="product-price">250 DKK</div>
          <div class="rating"></div>
        </div>
        <div class="product">
          <i class="fas product-wish fa-heart"></i>
          <img src="https://source.unsplash.com/random" alt="product_image" />
          <div class="product-name">Reclaimed Wood USA Wall Art</div>
          <div class="product-price">250 DKK</div>
          <div class="rating"></div>
        </div>
        <div class="product">
          <i class="fas product-wish fa-heart"></i>
          <img src="https://source.unsplash.com/random" alt="product_image" />
          <div class="product-name">Reclaimed Wood USA Wall Art</div>
          <div class="product-price">250 DKK</div>
          <div class="rating"></div>
        </div>
        <div class="product">
          <i class="fas product-wish fa-heart"></i>
          <img src="https://source.unsplash.com/random" alt="product_image" />
          <div class="product-name">Reclaimed Wood USA Wall Art</div>
          <div class="product-price">250 DKK</div>
          <div class="rating"></div>
        </div>
        <div class="product">
          <i class="fas product-wish fa-heart"></i>
          <img src="https://source.unsplash.com/random" alt="product_image" />
          <div class="product-name">Reclaimed Wood USA Wall Art</div>
          <div class="product-price">250 DKK</div>
          <div class="rating"></div>
        </div>
        <div class="product">
          <i class="fas product-wish fa-heart"></i>
          <img src="https://source.unsplash.com/random" alt="product_image" />
          <div class="product-name">Reclaimed Wood USA Wall Art</div>
          <div class="product-price">250 DKK</div>
          <div class="rating"></div>
        </div>
        <div class="product">
          <i class="fas product-wish fa-heart"></i>
          <img src="https://source.unsplash.com/random" alt="product_image" />
          <div class="product-name">Reclaimed Wood USA Wall Art</div>
          <div class="product-price">250 DKK</div>
          <div class="rating"></div>
        </div>
        <div class="product">
          <i class="fas product-wish fa-heart"></i>
          <img src="https://source.unsplash.com/random" alt="product_image" />
          <div class="product-name">Reclaimed Wood USA Wall Art</div>
          <div class="product-price">250 DKK</div>
          <div class="rating"></div>
        </div>
        <div class="product">
          <i class="fas product-wish fa-heart"></i>
          <img src="https://source.unsplash.com/random" alt="product_image" />
          <div class="product-name">Reclaimed Wood USA Wall Art</div>
          <div class="product-price">250 DKK</div>
          <div class="rating"></div>
        </div>
      </div>
    </main>
    <script>
      const ageDropdown = document.querySelector(".dropdown-age");
      const ageFilters = document.querySelector(".form-age-checkboxes");
      const ageArrow = document.querySelector(".dropdown-age-arrow");

      ageDropdown.addEventListener("click", () => {
        ageFilters.classList.toggle("show");
        ageArrow.classList.toggle("rotate");
      });

      const sortDropdown = document.querySelector(".dropdown-sorting");
      const sortSelections = document.querySelector(".sorting-selections");
      const sortArrow = document.querySelector(".dropdown-sort-arrow");

      sortDropdown.addEventListener("click", () => {
        sortSelections.classList.toggle("show");
        sortArrow.classList.toggle("rotate");

        let sortedBy = document.querySelector(".sort");
        let clicked = event.target.innerText;

        if (clicked.length < 20) {
          console.log(clicked);
        }

        if (clicked !== undefined || clicked.length < 20) {
          sortedBy.textContent = clicked;
        }
      });

      // console.log(event.target);

      // slider
      // https://codepen.io/MinzCode/pen/MWKgyqb

      var inputLeft = document.getElementById("input-left");
      var inputRight = document.getElementById("input-right");

      var thumbLeft = document.querySelector(".slider > .thumb.left");
      var thumbRight = document.querySelector(".slider > .thumb.right");
      var thumbLeftValue = document.querySelector(".slider > .value-left");
      var thumbRightValue = document.querySelector(".slider > .value-right");
      var range = document.querySelector(".slider > .range");

      function setLeftValue() {
        var _this = inputLeft,
          min = parseInt(_this.min),
          max = parseInt(_this.max);

        _this.value = Math.min(parseInt(_this.value), parseInt(inputRight.value) - 1);

        var percent = ((_this.value - min) / (max - min)) * 100;
        var price = Math.trunc(((_this.value - min) / (max - min)) * 100);

        thumbLeft.style.left = percent + "%";
        range.style.left = percent + "%";
        thumbLeftValue.style.left = percent - 10 + "%";
        thumbLeftValue.innerText = "$ " + price;
      }
      setLeftValue();

      function setRightValue() {
        var _this = inputRight,
          min = parseInt(_this.min),
          max = parseInt(_this.max);

        _this.value = Math.max(parseInt(_this.value), parseInt(inputLeft.value) + 1);

        var percent = ((_this.value - min) / (max - min)) * 100;
        var price = Math.trunc(((_this.value - max) / (min - max)) * 100);

        thumbRight.style.right = 100 - percent + "%";
        range.style.right = 100 - percent + "%";
        thumbRightValue.style.right = 90 - percent + "%";
        thumbRightValue.innerText = "$ " + (100 - price);
      }
      setRightValue();

      inputLeft.addEventListener("input", setLeftValue);
      inputRight.addEventListener("input", setRightValue);
    </script>
  </body>
</html>
